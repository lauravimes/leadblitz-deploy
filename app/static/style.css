/* LeadBlitz v2 — Dorsey aesthetic */

*,*::before,*::after{box-sizing:border-box;margin:0;padding:0}

:root{
  --bg:#fafafa;
  --card:#fff;
  --text:#111;
  --muted:#666;
  --border:#e0e0e0;
  --accent:#0066ff;
  --green:#1a8917;
  --amber:#b45309;
  --red:#dc2626;
  --radius:6px;
  --font:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Helvetica,Arial,sans-serif;
  --mono:"SF Mono",SFMono-Regular,Consolas,"Liberation Mono",Menlo,monospace;
}

html{font-size:15px;-webkit-font-smoothing:antialiased}
body{font-family:var(--font);background:var(--bg);color:var(--text);line-height:1.55}

/* Layout */
.container{max-width:720px;margin:0 auto;padding:0 20px}
main{padding:40px 0 80px}

/* Nav */
nav{border-bottom:1px solid var(--border);padding:14px 0;background:var(--card)}
nav .container{display:flex;align-items:center;justify-content:space-between}
nav .logo{font-size:1.1rem;font-weight:700;letter-spacing:-.02em;color:var(--text);text-decoration:none}
nav .nav-links{display:flex;gap:24px;align-items:center}
nav .nav-links a{color:var(--muted);text-decoration:none;font-size:.87rem;letter-spacing:.01em}
nav .nav-links a:hover,nav .nav-links a.active{color:var(--text)}

/* Typography */
h1{font-size:1.6rem;font-weight:700;letter-spacing:-.03em;margin-bottom:8px}
h2{font-size:1.2rem;font-weight:600;letter-spacing:-.02em;margin-bottom:6px}
h3{font-size:1rem;font-weight:600;margin-bottom:4px}
.label{font-size:.8rem;text-transform:uppercase;letter-spacing:.05em;color:var(--muted);margin-bottom:6px}
.subtext{font-size:.87rem;color:var(--muted)}

/* Cards */
.card{background:var(--card);border:1px solid var(--border);border-radius:var(--radius);padding:24px;margin-bottom:16px}
.card-compact{padding:16px}

/* Buttons */
.btn{display:inline-flex;align-items:center;justify-content:center;gap:6px;padding:10px 20px;border-radius:var(--radius);font-size:.87rem;font-weight:500;font-family:var(--font);cursor:pointer;border:none;transition:opacity .15s}
.btn:hover{opacity:.85}
.btn:disabled{opacity:.4;cursor:not-allowed}
.btn-primary{background:var(--text);color:var(--card)}
.btn-secondary{background:transparent;color:var(--text);border:1px solid var(--border)}
.btn-danger{background:transparent;color:var(--red);border:1px solid var(--red)}
.btn-sm{padding:6px 14px;font-size:.8rem}
.btn-block{width:100%}

/* Forms */
.form-group{margin-bottom:20px}
.form-group label{display:block;font-size:.8rem;text-transform:uppercase;letter-spacing:.05em;color:var(--muted);margin-bottom:6px}
input[type="text"],input[type="email"],input[type="password"],input[type="search"],textarea,select{
  width:100%;padding:10px 12px;border:1px solid var(--border);border-radius:var(--radius);
  font-size:.93rem;font-family:var(--font);background:var(--card);color:var(--text);outline:none;
  transition:border-color .15s}
input:focus,textarea:focus,select:focus{border-color:var(--text)}
textarea{resize:vertical;min-height:80px}
select{appearance:none;background-image:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' fill='%23666'%3E%3Cpath d='M6 8L1 3h10z'/%3E%3C/svg%3E");background-repeat:no-repeat;background-position:right 12px center}

/* Score badges */
.score{display:inline-flex;align-items:center;justify-content:center;min-width:44px;padding:4px 10px;border-radius:var(--radius);font-family:var(--mono);font-size:.87rem;font-weight:600}
.score-high{background:#dcfce7;color:var(--green)}
.score-mid{background:#fef3c7;color:var(--amber)}
.score-low{background:#fee2e2;color:var(--red)}
.score-none{background:#f3f4f6;color:var(--muted)}

/* Lead cards */
.lead-card{display:flex;align-items:flex-start;gap:16px;padding:20px 24px;border-bottom:1px solid var(--border);transition:background .1s}
.lead-card:hover{background:#f8f8f8}
.lead-card:last-child{border-bottom:none}
.lead-info{flex:1;min-width:0}
.lead-name{font-weight:600;font-size:.95rem;margin-bottom:2px}
.lead-name a{color:var(--text);text-decoration:none}
.lead-name a:hover{text-decoration:underline}
.lead-meta{font-size:.8rem;color:var(--muted);display:flex;flex-wrap:wrap;gap:8px;margin-top:4px}
.lead-actions{display:flex;gap:8px;align-items:center;flex-shrink:0}

/* Stage pills */
.stage{display:inline-block;font-size:.73rem;text-transform:uppercase;letter-spacing:.04em;padding:3px 8px;border-radius:10px;font-weight:500}
.stage-new{background:#f3f4f6;color:var(--muted)}
.stage-reviewing{background:#dbeafe;color:#1d4ed8}
.stage-qualified{background:#dcfce7;color:var(--green)}
.stage-rejected{background:#fee2e2;color:var(--red)}

/* Tech health signals */
.tech-signal{display:inline-flex;align-items:center;gap:4px;font-size:.78rem;padding:3px 8px;border-radius:10px;margin:2px}
.tech-green{background:#dcfce7;color:var(--green)}
.tech-amber{background:#fef3c7;color:var(--amber)}
.tech-red{background:#fee2e2;color:var(--red)}

/* Score breakdown */
.breakdown-grid{display:grid;grid-template-columns:1fr 1fr;gap:12px;margin-top:16px}
.breakdown-item{display:flex;justify-content:space-between;align-items:center;padding:8px 0;border-bottom:1px solid #f3f4f6}
.breakdown-item:last-child{border-bottom:none}
.breakdown-label{font-size:.8rem;color:var(--muted);text-transform:uppercase;letter-spacing:.03em}
.breakdown-score{font-family:var(--mono);font-weight:600;font-size:.87rem}

/* Search form */
.search-form{display:grid;grid-template-columns:1fr 1fr auto;gap:12px;align-items:end}
@media(max-width:600px){.search-form{grid-template-columns:1fr}}

/* HTMX indicators */
.htmx-indicator{display:none;color:var(--muted);font-size:.82rem;letter-spacing:.01em}
.htmx-request .htmx-indicator,.htmx-request.htmx-indicator{display:inline}

/* Empty state */
.empty-state{text-align:center;padding:60px 20px;color:var(--muted)}
.empty-state p{font-size:.93rem;margin-top:8px}

/* Error */
.error-msg{color:var(--red);font-size:.87rem;padding:10px 14px;background:#fee2e2;border-radius:var(--radius);margin-bottom:16px}

/* Saved flash */
.saved-flash{color:var(--green);font-size:.8rem;opacity:1;transition:opacity 2s}

/* Auth pages */
.auth-container{max-width:380px;margin:80px auto}
.auth-container h1{text-align:center;margin-bottom:24px}
.auth-footer{text-align:center;margin-top:20px;font-size:.87rem;color:var(--muted)}
.auth-footer a{color:var(--text)}

/* Section headers */
.section-header{display:flex;align-items:center;justify-content:space-between;margin-bottom:16px}

/* Detail page */
.detail-header{display:flex;align-items:flex-start;justify-content:space-between;gap:16px;margin-bottom:24px}
.detail-meta{display:flex;flex-wrap:wrap;gap:12px;margin-top:8px;font-size:.82rem;color:var(--muted)}

/* Filter bar */
.filter-bar{display:flex;gap:12px;align-items:center;margin-bottom:20px;flex-wrap:wrap}
.filter-bar select{width:auto;min-width:160px}

/* Report sections */
.report-section{margin-top:20px}
.report-section h3{margin-bottom:8px}
.report-list{list-style:none;padding:0}
.report-list li{padding:6px 0;border-bottom:1px solid #f3f4f6;font-size:.9rem}
.report-list li:last-child{border-bottom:none}
.report-list li::before{content:"→ ";color:var(--muted)}

/* Credit badge in nav */
.credit-badge{display:inline-flex;align-items:center;justify-content:center;min-width:24px;padding:1px 7px;border-radius:10px;font-size:.73rem;font-weight:600;background:#f3f4f6;color:var(--text);margin-left:2px}

/* Stats grid */
.stats-grid{display:grid;grid-template-columns:repeat(3,1fr);gap:12px}

/* Progress bars */
.progress-bar-container{width:100%;height:6px;background:#f3f4f6;border-radius:3px;overflow:hidden}
.progress-bar{height:100%;background:var(--text);border-radius:3px;transition:width .3s ease}

/* Settings tabs */
.tabs{display:flex;gap:0;border-bottom:1px solid var(--border);margin-bottom:24px}
.tab{padding:10px 20px;font-size:.87rem;color:var(--muted);cursor:pointer;border-bottom:2px solid transparent;background:none;border-top:none;border-left:none;border-right:none;font-family:var(--font)}
.tab:hover{color:var(--text)}
.tab.active{color:var(--text);border-bottom-color:var(--text);font-weight:500}
.tab-panel{display:none}
.tab-panel.active{display:block}

/* Email compose */
.compose-grid{display:grid;grid-template-columns:1fr 1fr;gap:16px}
.preview-card{background:#f8f8f8;border:1px solid var(--border);border-radius:var(--radius);padding:16px;margin-bottom:8px}
.preview-card .preview-to{font-size:.8rem;color:var(--muted);margin-bottom:4px}
.preview-card .preview-subject{font-weight:600;font-size:.93rem;margin-bottom:8px}
.preview-card .preview-body{font-size:.87rem;line-height:1.5}

/* Admin table */
.admin-table{display:flex;flex-direction:column}
.admin-row{display:flex;align-items:center;justify-content:space-between;padding:14px 0;border-bottom:1px solid #f3f4f6;gap:12px}
.admin-row:last-child{border-bottom:none}

/* SMS compose */
.sms-preview{background:#f8f8f8;border:1px solid var(--border);border-radius:var(--radius);padding:12px;margin-bottom:8px;font-size:.87rem}

/* Package grid for credits */
.package-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(200px,1fr));gap:12px;margin:16px 0}
.package-card{border:1px solid var(--border);border-radius:var(--radius);padding:20px;text-align:center;cursor:pointer;transition:border-color .15s}
.package-card:hover{border-color:var(--text)}
.package-card.selected{border-color:var(--text);background:#f8f8f8}
.package-price{font-size:1.4rem;font-weight:700;margin:8px 0 4px}
.package-credits{font-size:.87rem;color:var(--muted)}

/* Costs table */
.costs-table{width:100%;border-collapse:collapse;font-size:.87rem;margin-top:8px}
.costs-table th{text-align:left;padding:8px 12px;border-bottom:1px solid var(--border);font-weight:500;color:var(--muted);font-size:.8rem;text-transform:uppercase;letter-spacing:.03em}
.costs-table td{padding:8px 12px;border-bottom:1px solid #f3f4f6}
.costs-table tr:last-child td{border-bottom:none}

/* Nav dropdown */
.nav-dropdown{position:relative}
.nav-dropdown-toggle{
  background:none;border:none;cursor:pointer;font-family:var(--font);
  font-size:.87rem;letter-spacing:.01em;color:var(--muted);
  display:inline-flex;align-items:center;gap:4px;padding:0}
.nav-dropdown-toggle:hover,.nav-dropdown-toggle.active{color:var(--text)}
.nav-dropdown-toggle .caret{font-size:.7rem;transition:transform .15s}
.nav-dropdown.open .nav-dropdown-toggle .caret{transform:rotate(180deg)}
.nav-dropdown-menu{
  display:none;position:absolute;top:calc(100% + 10px);left:0;
  background:var(--card);border:1px solid var(--border);border-radius:var(--radius);
  box-shadow:0 4px 16px rgba(0,0,0,.08);min-width:160px;padding:6px 0;z-index:200}
.nav-dropdown-menu a{display:block;padding:8px 16px;font-size:.87rem;color:var(--muted);text-decoration:none;white-space:nowrap}
.nav-dropdown-menu a:hover{background:#f8f8f8;color:var(--text)}
.nav-dropdown-menu a.active{color:var(--text);font-weight:500}

/* Desktop: hover opens dropdown */
@media(min-width:601px){
  .nav-dropdown:hover .nav-dropdown-menu,.nav-dropdown.open .nav-dropdown-menu{display:block}
}

/* Stat card links */
a.stat-link{text-decoration:none;color:inherit;display:block;transition:border-color .15s}
a.stat-link:hover{border-color:var(--text)}

/* Campaign rows */
.campaign-row{
  display:flex;align-items:center;justify-content:space-between;gap:16px;
  padding:16px 24px;border-bottom:1px solid var(--border);
  text-decoration:none;color:inherit;transition:background .1s}
.campaign-row:hover{background:#f8f8f8}
.campaign-row:last-child{border-bottom:none}
.campaign-info{display:flex;flex-direction:column;gap:2px;min-width:0}
.campaign-name{font-weight:600;font-size:.95rem}
.campaign-meta{display:flex;align-items:center;gap:12px;flex-shrink:0}

/* Hamburger button — hidden on desktop */
.hamburger{display:none;background:none;border:none;cursor:pointer;padding:4px;flex-direction:column;gap:5px}
.hamburger span{display:block;width:22px;height:2px;background:var(--text);border-radius:1px;transition:transform .2s,opacity .2s}
.hamburger.open span:nth-child(1){transform:translateY(7px) rotate(45deg)}
.hamburger.open span:nth-child(2){opacity:0}
.hamburger.open span:nth-child(3){transform:translateY(-7px) rotate(-45deg)}

/* Responsive */
@media(max-width:600px){
  .container{padding:0 16px}
  main{padding:24px 0 60px}
  .lead-card{flex-direction:column;gap:10px}
  .lead-actions{width:100%;justify-content:flex-end}
  .breakdown-grid{grid-template-columns:1fr}
  .detail-header{flex-direction:column}
  .filter-bar{flex-direction:column;align-items:stretch}
  .stats-grid{grid-template-columns:1fr 1fr}
  .compose-grid{grid-template-columns:1fr}
  .package-grid{grid-template-columns:1fr}
  .admin-row{flex-direction:column;align-items:stretch}
  .tabs{overflow-x:auto}

  /* Hamburger mobile nav */
  .hamburger{display:flex}
  .nav-dropdown{position:static}
  .nav-dropdown-toggle{padding:12px 20px;font-size:.93rem;width:100%;justify-content:flex-start}
  .nav-dropdown-menu{
    position:static;border:none;box-shadow:none;border-radius:0;padding:0;min-width:0;
    display:none}
  .nav-dropdown.open .nav-dropdown-menu{display:block}
  .nav-dropdown-menu a{padding:10px 20px 10px 36px;font-size:.93rem}
  .campaign-row{padding:14px 16px}
  nav .nav-links{
    display:none;flex-direction:column;gap:0;
    position:absolute;top:100%;left:0;right:0;
    background:var(--card);border-bottom:1px solid var(--border);
    padding:8px 0;z-index:100;box-shadow:0 4px 12px rgba(0,0,0,.08)
  }
  nav .nav-links.open{display:flex}
  nav .nav-links a{padding:12px 20px;font-size:.93rem}
  nav .nav-links a:hover,nav .nav-links a.active{background:#f8f8f8}
  nav .container{position:relative}
}
